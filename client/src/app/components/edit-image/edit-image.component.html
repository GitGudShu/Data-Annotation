<div class="edit-image-container">
  <button class="back-button" (click)="goBack()">‚Üê Back</button>

  <div class="image-editor">
    <!-- Image and Overlay -->
    <div class="image-container" #imageContainer>
      <img
        *ngIf="imageUrl"
        [src]="imageUrl"
        alt="Selected Image"
        class="full-image"
        (load)="onImageLoad($event)"
      />

      <!-- overlay -->
      <svg
        *ngIf="displayedWidth && displayedHeight"
        class="overlay-svg"
        [attr.width]="displayedWidth"
        [attr.height]="displayedHeight"
        [attr.viewBox]="'0 0 ' + imageWidth + ' ' + imageHeight"
      >
        <polygon
          *ngFor="let poly of polygons"
          [attr.points]="poly.points"
          class="overlay-polygon"
          [attr.data-label]="poly.label"
        ></polygon>
      </svg>
    </div>

    <!-- Annotation Panel -->
    <div class="annotation-panel">
      <h3>Annotations</h3>

      <p><strong>Image ID:</strong> {{ imageId }}</p>
      <p><strong>City:</strong> {{ city }}</p>

      <label for="description">Description:</label>
      <textarea id="description" [(ngModel)]="annotationDescription" placeholder="Enter description..."></textarea>

      <label for="danger-level">Danger Level:</label>
      <input type="number" id="danger-level" min="1" max="5" [(ngModel)]="dangerLevel">

      <div class="button-group">
        <button class="save-button" (click)="saveAnnotation()">Save</button>
        <button class="cancel-button" (click)="clearForm()">Clear</button>
      </div>
    </div>
  </div>
</div>
