<div class="max-w-3xl mx-auto px-4 py-8">
  <div class="flex items-center mb-8">
    <a routerLink="/userProfile" class="inline-flex items-center justify-center rounded-md text-sm font-medium hover:bg-gray-100 hover:text-gray-900 h-9 px-4 py-2 mr-4">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 mr-2">
        <path d="m12 19-7-7 7-7"></path>
        <path d="M19 12H5"></path>
      </svg>
      Back
    </a>
    <h1 class="text-3xl font-bold">Change Password</h1>
  </div>

  <div class="border rounded-lg shadow-sm">
    <form (ngSubmit)="handleSubmit()">
      <div class="p-4 border-b">
        <h2 class="font-semibold text-lg">Account Security</h2>
        <p class="text-sm text-gray-500">Update your password to secure your account</p>
      </div>
      <div class="p-4 space-y-4">
        <div *ngIf="error" class="bg-red-50 text-red-500 p-3 rounded-md text-sm">
          {{ error }}
        </div>
        <div *ngIf="success" class="bg-green-50 text-green-500 p-3 rounded-md text-sm">
          {{ success }}
        </div>

        <div class="space-y-2">
          <label for="current-password" class="text-sm font-medium">Current Password</label>
          <div class="relative">
            <input
              id="current-password"
              [type]="showCurrentPassword ? 'text' : 'password'"
              [(ngModel)]="currentPassword"
              name="currentPassword"
              [disabled]="disableFields"
              class="flex h-10 w-full rounded-md border bg-white px-3 py-2 text-sm placeholder:text-gray-500 disabled:cursor-not-allowed disabled:opacity-50"
            />
            <button
              type="button"
              (click)="toggleShowCurrentPassword()"
              [disabled]="disableFields"
              class="absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8"
            >
              <svg *ngIf="showCurrentPassword" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path>
                <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"></path>
                <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"></path>
                <line x1="2" x2="22" y1="2" y2="22"></line>
              </svg>
              <svg *ngIf="!showCurrentPassword" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              <span class="sr-only">
                {{ showCurrentPassword ? "Hide password" : "Show password" }}
              </span>
            </button>
          </div>
        </div>

        <div class="space-y-2">
          <label for="new-password" class="text-sm font-medium">New Password</label>
          <div class="relative">
            <input
              id="new-password"
              [type]="showNewPassword ? 'text' : 'password'"
              [(ngModel)]="newPassword"
              name="newPassword"
              [disabled]="disableFields"
              class="flex h-10 w-full rounded-md border bg-white px-3 py-2 text-sm placeholder:text-gray-500 disabled:cursor-not-allowed disabled:opacity-50"
            />
            <button
              type="button"
              (click)="toggleShowNewPassword()"
              [disabled]="disableFields"
              class="absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8"
            >
              <svg *ngIf="showNewPassword" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path>
                <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"></path>
                <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"></path>
                <line x1="2" x2="22" y1="2" y2="22"></line>
              </svg>
              <svg *ngIf="!showNewPassword" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              <span class="sr-only">
                {{ showNewPassword ? "Hide password" : "Show password" }}
              </span>
            </button>
          </div>
          <p class="text-xs text-gray-500">Password must be at least 8 characters long.</p>
        </div>

        <div class="space-y-2">
          <label for="confirm-password" class="text-sm font-medium">Confirm New Password</label>
          <div class="relative">
            <input
              id="confirm-password"
              [type]="showConfirmPassword ? 'text' : 'password'"
              [(ngModel)]="confirmPassword"
              name="confirmPassword"
              [disabled]="disableFields"
              class="flex h-10 w-full rounded-md border bg-white px-3 py-2 text-sm placeholder:text-gray-500 disabled:cursor-not-allowed disabled:opacity-50"
            />
            <button
              type="button"
              (click)="toggleShowConfirmPassword()"
              [disabled]="disableFields"
              class="absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8"
            >
              <svg *ngIf="showConfirmPassword" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path>
                <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"></path>
                <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"></path>
                <line x1="2" x2="22" y1="2" y2="22"></line>
              </svg>
              <svg *ngIf="!showConfirmPassword" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              <span class="sr-only">
                {{ showConfirmPassword ? "Hide password" : "Show password" }}
              </span>
            </button>
          </div>
        </div>
      </div>
      <div class="p-4 border-t flex justify-end gap-2">
        <a routerLink="/userProfile" class="inline-flex items-center justify-center rounded-md text-sm font-medium border bg-white hover:bg-gray-100 hover:text-gray-900 h-9 px-4 py-2">
          Cancel
        </a>
        <button type="submit" class="inline-flex items-center justify-center rounded-md text-sm font-medium bg-gray-900 text-gray-50 hover:bg-gray-900/90 h-9 px-4 py-2">
          Update Password
        </button>
      </div>
    </form>
  </div>
</div>